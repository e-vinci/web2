{"version":3,"file":"component---src-pages-login-js-5d6dc19824259641ecf9.js","mappings":"iNA8DA,UA5Cc,WACZ,OAA+BA,EAAAA,EAAAA,MAAvBC,EAAR,EAAQA,SAGR,GAHA,EAAkBC,UACMC,EAAAA,EAAAA,OAEQC,EAAAA,EAAAA,WAAS,IAAlCC,EAAP,WAEAC,EAAAA,EAAAA,YAAU,WAEHD,GAAUE,OAIjB,IAAMA,EAAW,mCAAG,8EAClB,IACEN,EAASO,cAAcC,EAAAA,IAEvB,MAAOC,GAEPC,QAAQC,IAAI,0BAA2BF,GANvB,2CAAH,qDAWjB,OACE,gBAAC,IAAD,KACE,2BACE,qBAAGG,UAAU,QAAb,wCAEE,gBAAC,EAAAC,KAAD,CAAMC,GAAG,UACP,gBAAC,EAAAC,EAAD,CACEC,IAAI,2BACJC,IAAI,GACJC,MAAM,KACNC,OAAO,KAJT,sBADF,OAFF,0B","sources":["webpack://myjscourse/./src/pages/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  useMsal,\r\n  useIsAuthenticated,\r\n  InteractionStatus,\r\n  inProgress,\r\n} from \"@azure/msal-react\";\r\nimport { loginRequest } from \"../utils/auths/authConfig\";\r\nimport { navigate } from \"gatsby\";\r\nimport { Link } from \"gatsby\";\r\nimport { StaticImage } from \"gatsby-plugin-image\";\r\nimport MainLayout from \"../components/main-layout\";\r\n\r\n\r\n/**\r\n * IT SEEMS NO LONGER REQUIRED : TO BE DELETED\r\n * @returns \r\n */\r\nconst Login = () => {\r\n  const { instance, accounts } = useMsal();\r\n  const isAuthenticated = useIsAuthenticated();\r\n\r\n  const [isSigned, setIsSigned] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // You need to restrict it at some point\r\n    if (!isSigned) onSigningIn();\r\n  });\r\n\r\n  // call the redirect function from MS Azure AD\r\n  const onSigningIn = async () => {\r\n    try {\r\n      instance.loginRedirect(loginRequest);\r\n      \r\n    } catch (error) {\r\n      // handle error, either in the library or coming back from the server\r\n      console.log(\"error during redirect :\", error);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div>\r\n        <p className=\"pl-3\">\r\n          Vous pouvez vous logger en cliquant &nbsp;\r\n          <Link to=\"/login\">\r\n            <StaticImage\r\n              src=\"../images/logo_vinci.png\"\r\n              alt=\"\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n            />\r\n            ici\r\n          </Link>\r\n          &nbsp; ou dans le menu.\r\n        </p>\r\n      </div>\r\n    </MainLayout>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["useMsal","instance","accounts","useIsAuthenticated","useState","isSigned","useEffect","onSigningIn","loginRedirect","loginRequest","error","console","log","className","Link","to","S","src","alt","width","height"],"sourceRoot":""}
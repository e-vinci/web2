"use strict";(self.webpackChunkmyjscourse=self.webpackChunkmyjscourse||[]).push([[773],{33892:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(67294),a=r(1597),s=r(9147),u=r(41066),o=r(3290),c=r(85540),i=r(15861),l=r(87757),d=r.n(l),p=r(99896),m=r(4942),v=r(35443);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t=e.projects,r=e.setFilteredContents,a=e.allReviews,s=t.map((function(e){var t=a.find((function(t){return e.convertedProjectId===t._id}));return w(w({},e),{},{countExpected:t.countExpected,countLiked:t.countLiked,countReviews:t.countReviews,projectReviews:t.projectReviews})}));return!t||t.length<=0?null:n.createElement(n.Fragment,null,s.map((function(e,t){return n.createElement(v.Z,{key:t,project:e,setFilteredContents:r})})))},j=r(31427),g=function(e){var t=e.associatedProjectGroupName,r=(0,o.X)(),a=r.projectGroupData,s=r.updateProjectGroupData,u=r.userData,l=r.updateUserData,m=(0,c.i)(),v=m.myReviewSummaryData,f=m.updateMyReviewSummaryData,w=m.myReviewsData,g=m.updateMyReviewsData,h=m.allReviewsData,E=m.updateAllReviewsData,b=m.isLoaded,D=(0,n.useState)(void 0),O=D[0],P=D[1],R=(0,n.useState)(""),x=(R[0],R[1]);(0,n.useEffect)((function(){S()}),[]);var N,S=function(){var e=(0,i.Z)(d().mark((function e(){var r,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t);case 3:return r=e.sent,e.next=6,l();case 6:return n=e.sent,e.next=9,f(n.userName,r._id);case 9:return e.sent,e.next=12,g(n.userName,r._id);case 12:return e.sent,e.next=15,E(r._id);case 15:e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("getData:error",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();if(a){N=(N=new Date(a.reviewStartingDate)).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}return n.createElement(n.Fragment,null,!b&&n.createElement(p.Z,null),void 0===a?"":n.createElement("div",{className:"pl-3 pt-3 pb-3 pr-3"},n.createElement("h3",{className:""},"Mes revues des groupes de ",a._id),h&&a&&"init"!==a.status&&"dev"!==a.status&&(u&&u.isAdmin||v&&v.isProjectMember)?n.createElement("div",null,n.createElement("div",{className:"summary"},n.createElement("div",{className:"summary__card-wrapper"},n.createElement(j.Z,{myReviewsSummary:v}))),n.createElement("div",{className:"index"},n.createElement("input",{type:"text","aria-label":"Search",placeholder:"Filtrez les contenus...",onChange:function(e){var t=e.target.value;x(e.target.value);var r=w.filter((function(e){var r=e.shortId,n=e.name,a=e.description;return n.toLowerCase().includes(t.toLowerCase())||a.toLowerCase().includes(t.toLowerCase())||t.length>0&&parseInt(t)===r}));r&&r.length>0?P(r):P(void 0)},className:"index__search"}),n.createElement(y,{projects:O&&O.length>0?O:w,setFilteredContents:P,allReviews:h}))):a&&"init"!==a.status&&"dev"!==a.status?"Vous n'avez pas encore le privilège de voir les revues des projets des groupes de "+a._id+". Si nécessaire, n'hésitez pas à faire une demande à l'administrateur du site.":"La saison de revues des projets n'a pas encore été ouverte.\n      Nous nous réjouissons de vous revoir tout bientôt pour évaluer les projets de différents groupes.\n      Une annonce sera faite une fois la saison ouverte ; )\n      Date d'ouverture estimée : "+N))},h=(0,u.O)((function(){var e=(0,a.useStaticQuery)("758242238"),t=null==e?void 0:e.site.siteMetadata.defaultAssociatedProjectGroupName;return n.createElement(o.a,null,n.createElement(c.w,null,n.createElement(s.Z,null,n.createElement(g,{associatedProjectGroupName:t}))))}))}}]);
//# sourceMappingURL=component---src-pages-my-reviews-page-js-35432e2b5c28c52e40e8.js.map
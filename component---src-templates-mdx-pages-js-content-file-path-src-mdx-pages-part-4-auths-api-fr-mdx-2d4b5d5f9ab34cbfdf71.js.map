{"version":3,"file":"component---src-templates-mdx-pages-js-content-file-path-src-mdx-pages-part-4-auths-api-fr-mdx-2d4b5d5f9ab34cbfdf71.js","mappings":"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","sources":["webpack://myjscourse/./src/mdx-pages/part4/auths-api.fr.mdx","webpack://myjscourse/./src/templates/mdx-pages.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    h2: \"h2\",\n    p: \"p\",\n    strong: \"strong\",\n    ul: \"ul\",\n    li: \"li\",\n    br: \"br\",\n    em: \"em\",\n    h3: \"h3\",\n    h4: \"h4\",\n    code: \"code\",\n    a: \"a\",\n    pre: \"pre\",\n    h5: \"h5\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\"\n  }, _provideComponents(), props.components), {InternalPageMenu, PathViewer, PathViewerItem, InternalPageMenuItem, YoutubeImage, InternalPageTitle, ScrollableImage, AuthenticatedBlock} = _components;\n  if (!AuthenticatedBlock) _missingMdxReference(\"AuthenticatedBlock\", true);\n  if (!InternalPageMenu) _missingMdxReference(\"InternalPageMenu\", true);\n  if (!InternalPageMenuItem) _missingMdxReference(\"InternalPageMenuItem\", true);\n  if (!InternalPageTitle) _missingMdxReference(\"InternalPageTitle\", true);\n  if (!PathViewer) _missingMdxReference(\"PathViewer\", true);\n  if (!PathViewerItem) _missingMdxReference(\"PathViewerItem\", true);\n  if (!ScrollableImage) _missingMdxReference(\"ScrollableImage\", true);\n  if (!YoutubeImage) _missingMdxReference(\"YoutubeImage\", true);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, null, \"a) Authentification et autorisation d'acc√®s aux op√©rations d'une RESTful API via JWT\"), \"\\n\", React.createElement(InternalPageMenu, null, React.createElement(PathViewer, null, React.createElement(PathViewerItem, {\n    to: \"/\"\n  }, \" web2course \"), React.createElement(PathViewerItem, {\n    to: \"/part4\"\n  }, \" Partie 4 \"), React.createElement(PathViewerItem, {\n    selected: true\n  }, \" a) JWT auths & API \")), React.createElement(InternalPageMenuItem, null, \" C'est quoi l'authentification et l'autorisation ? \"), React.createElement(InternalPageMenuItem, null, \" Stateful VS stateless authentication \"), React.createElement(InternalPageMenuItem, null, \" C'est quoi les tokens JWT ? \"), React.createElement(InternalPageMenuItem, null, \" Authentification et cr√©ation de token \"), React.createElement(InternalPageMenuItem, null, \" Autorisation et v√©rification de token \"), React.createElement(InternalPageMenuItem, null, \" Client REST avec JWT \"), React.createElement(InternalPageMenuItem, null, \" Protection des op√©rations d'√©criture d'une API \"), React.createElement(InternalPageMenuItem, null, \" Project 4.1 : Authentification & autorisation d'op√©rations \")), \"\\n\", React.createElement(\"div\", {\n    className: \"card card__simple-youtube-container\"\n  }, React.createElement(YoutubeImage, {\n    src: \"https://youtu.be/jCUyii3hcwY\"\n  })), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" C'est quoi l'authentification et l'autorisation ? \")), \"\\n\", React.createElement(_components.h2, null, \"Authentification, c'est quoi ?\"), \"\\n\", React.createElement(_components.p, null, \"L'authentification, c'est le processus de \", React.createElement(_components.strong, null, \"v√©rifier qui est l'utilisateur\"), \" d'une application.\"), \"\\n\", React.createElement(_components.p, null, \"Pour authentifier un utilisateur, on va g√©n√©ralement passer via un formulaire de connexion, lui demandant un username et un password.\"), \"\\n\", React.createElement(_components.h2, null, \"Autorisation, c'est quoi ?\"), \"\\n\", React.createElement(_components.p, null, \"L'autorisation, c'est le processus de \", React.createElement(_components.strong, null, \"v√©rifier ce √† quoi un utilisateur √† acc√®s\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Une API va autoriser les acc√®s √† certaines op√©rations en fonction des privil√®ges associ√©s aux utilisateurs. Il y aura des op√©rations qui seront autoris√©es :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"pour tous les utilisateurs\"), \", tant anonymes qu'authentifi√©s ;\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"imaginez par exemple les op√©rations de lecture de produits sur un site \\\"vitrine\\\". Il ne faut pas devoir cr√©er de compte utilisateur pour pouvoir afficher les produits du site.\")), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"pour tous les utilisateurs authentifi√©s\"), \", peu importe leurs privil√®ges ;\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"imaginez le fait de pouvoir poster des messages dans un forum ; il faut avoir un compte pour pouvoir le faire, mais il ne faut pas de privil√®ges sp√©cifiques (pas besoin d'√™tre admin).\")), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"pour seulement un ou plusieurs utilisateur(s) authentifi√©(s)\"), \" ayant les privil√®ges requis ;\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"imaginez une op√©ration de lecture de tous les profils des utilisateurs d'une banque ; il faut avoir un compte admin de la banque pour pouvoir le faire. Ca serait catastrophique si n'importe quel utilisateur authentifi√© pourrait acc√©der aux profils de tous les utilisateurs !\")), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"Diff√©rents moyens d'authentification\"), \"\\n\", React.createElement(_components.h3, null, \"Authentification stateful\"), \"\\n\", React.createElement(_components.p, null, \"Traditionnellement, ou anciennement, nous avons l'authentification qui est support√©e √† l'aide de cookies. L'utilisateur envoie via un formulaire son username et password, le serveur v√©rifie ceux-ci et cr√©e un id de session et le renvoie √† l'utilisateur via un cookie.\", React.createElement(_components.br), \"\\n\", \"Apr√®s l'authentification, √† chaque requ√™te du client sur ce serveur, le cookie est envoy√©, et le serveur, qui a sauvegard√© la session, va la retrouver sur base de l'id de session pr√©sent dans le cookie et va autoriser ou non l'acc√®s √† l'op√©ration demand√©e par le client.\", React.createElement(_components.br), \"\\n\", \"C'est ce qu'on appelle une authentification \", React.createElement(_components.strong, null, \"stateful\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Un m√©canisme d'authentification \", React.createElement(_components.strong, null, \"stateful\"), \" indique que le serveur est responsable de sauvegarder les donn√©es de session des utilisateurs.\"), \"\\n\", React.createElement(_components.p, null, \"On parle de \", React.createElement(_components.strong, null, \"session\"), \" d'un utilisateur comme √©tant toute la dur√©e o√π le client s'authentifie √† l'application web jusqu'√† ce qu'il quitte cette application, lorsqu'il ferme son browser.\"), \"\\n\", React.createElement(_components.h3, null, \"Authentification stateless\"), \"\\n\", React.createElement(_components.p, null, \"De mani√®re plus moderne, nous avons des m√©canismes d'authentification qui sont dits \", React.createElement(_components.strong, null, \"stateless\"), \". Dans ce genre de m√©canisme, c'est le client qui doit sauvegarder les donn√©es de session, et donc le browser. L'authentification √† l'aide de \", React.createElement(_components.strong, null, \"tokens\"), \" devient tr√®s populaire.\", React.createElement(_components.br), \"\\n\", \"Il existe diff√©rents moyen de l'impl√©menter. Dans le cadre de ce cours, nous focuserons sur la fa√ßon la plus habituelle, les \", React.createElement(_components.strong, null, \"JSON Web Tokens\"), \", ou \", React.createElement(_components.strong, null, \"JWT\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Il existe d'autres m√©canismes tr√®s modernes qui utilisent des tokens, et qui sont mis en place par des tiers : \", React.createElement(_components.strong, null, \"OAuth\"), \", \", React.createElement(_components.strong, null, \"OpenId\"), \"... Ces m√©canismes sont offerts par Microsoft, Google, Facebook... Nous ne les verrons pas dans le cadre de cours. N√©anmoins, √† la fin de ce cours, vous devriez √™tre apte √† pouvoir les utiliser, sous r√©serve de bien lire la documentation üòâ.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Stateful VS stateless authentication  \")), \"\\n\", React.createElement(_components.p, null, \"Quels sont les avantages & inconv√©nients d'une authentification stateful ? et d'une authentification stateless ?\"), \"\\n\", React.createElement(_components.h4, null, \"Authentification stateful\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"Inconv√©nients\"), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"La session utilise de la m√©moire pour chaque utilisateur.\"), \"\\n\", React.createElement(_components.li, null, \"Le backend n'a aucune mani√®re de d√©terminer si le frontend s'est d√©connect√© du site ou non : gestion de l'expiration d'une session plus compliqu√©e, notamment si le frontend revient apr√®s une longue dur√©e.\"), \"\\n\", React.createElement(_components.li, null, \"Toutes les sessions sont perdues en cas de red√©marrage du serveur (r√©authentification).\"), \"\\n\", React.createElement(_components.li, null, \"Load balancing compliqu√© ; en effet, si un client fait une requ√™te, pendant toute la dur√©e de la session, s'il y a plusieurs serveurs qui peuvent y r√©pondre, comment est g√©r√©e la session de ce client ? Par quel(s) serveur(s) ? Comment se partagent-ils les donn√©es de session ? Est-ce que √ßa doit toujours √™tre le m√™me serveur qui r√©ponde au m√™me client ?\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"Avantages\"), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Peu gourmand en ressource point de vue processing et tr√®s rapide ; en effet, une fois qu'une session est en place, la v√©rification que le cookie contient le bon id de session se fait vite.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, null, \"Authentification stateless\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"Inconv√©nients\"), \" :\\r\\nComme le serveur ne retient plus l'utilisateur en m√©moire, il doit utiliser de la cryptographie pour cr√©er et valider les token ; c'est donc consommateur en ressource point de vue processing.\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"Avantages\"), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Pas de session √† g√©rer, m√™me apr√®s red√©marrage du serveur, il n'y a pas de r√©authentification n√©cessaire.\"), \"\\n\", React.createElement(_components.li, null, \"Evolutif, utilisation facile de plusieurs serveurs si du load balancing est n√©cessaire ; en effet, comme chaque requ√™te du client contient toutes les infos pour se faire autoriser, il n'est pas n√©cessaire de savoir quel serveur va prendre en charge la requ√™te.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Notons que la \\\"scalability\\\" horizontale, la possibilit√© de permettre √† une application d'augmenter sa capacit√© de r√©pondre √† une charge grandissante simplement en ajoutant des machines, est quelque chose de tr√®s important √† notre √©poque.\", React.createElement(_components.br), \"\\n\", \"Certaines applications web ont des centaines de millions d'utilisateurs ; pour celles-ci, on ne peut pas compter sur la \\\"scalability\\\" verticale, c'est-√†-dire le fait d'augmenter les ressources d'une machine, en augmentant sa RAM, son processeur, son espace de stockage...\"), \"\\n\", React.createElement(_components.p, null, \"D√®s lors, dans le cadre de ce cours, nous allons pr√©f√©rer les applications web qui peuvent tourner sur des serveurs \", React.createElement(_components.strong, null, \"stateless\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" C'est quoi les tokens JWT ? \")), \"\\n\", React.createElement(_components.p, null, \"Les \", React.createElement(_components.strong, null, \"JSON Web token\"), \", ou \", React.createElement(_components.strong, null, \"JWT\"), \", appartiennent √† un standard internet permettant l'√©change s√©curis√© de tokens entre plusieurs parties.\"), \"\\n\", React.createElement(_components.p, null, \"Un \", React.createElement(_components.strong, null, \"JWT\"), \" contient \", React.createElement(_components.strong, null, \"trois parties encod√©es en base64\"), \" et ressemble √† qqch du style :\", React.createElement(_components.br), \"\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.\")), React.createElement(_components.br), \"\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.\")), React.createElement(_components.br), \"\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\"))), \"\\n\", React.createElement(_components.p, null, \"Voici les 3 parties d'un JWT et leurs caract√©ristiques :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"l'\", React.createElement(_components.strong, null, \"ent√™te\"), \" (ou header) : un objet JSON identifiant le type de token (JWT) et l'algorithme utilis√© pour g√©n√©rer la signature du token (HS256), un algorithme de hachage.\"), \"\\n\", React.createElement(_components.li, null, \"le \", React.createElement(_components.strong, null, \"payload\"), \" : un objet JSON permettant de sp√©cifier le \", React.createElement(_components.strong, null, \"claim\"), \" ; ce sont des param√®tres optionnels pr√©cisant les affirmations associ√©es au token, comme la date d'expiration du token, son cr√©ateur, le fait que l'utilisateur est admin... g√©n√©ralement, on y met pas trop d'info, principalement l'identifiant de l'utilisateur ; si l'API a besoin de plus d'info concernant l'utilisateur, elle ira g√©n√©ralement les chercher dans ses donn√©es.\"), \"\\n\", React.createElement(_components.li, null, \"la \", React.createElement(_components.strong, null, \"signature\"), \" : c'est une signature num√©rique construite √† partir d'un secret priv√© ou d'une cl√© publique/priv√©e, via l'algorithme pr√©cis√© dans la signature.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"üí≠ C'est bien joli tout √ßa, mais comment √ßa permet de s√©curiser la session d'un utilisateur ?\", React.createElement(_components.br), \"\\n\", \"G√©n√©ralement, l'API, et elle uniquement, connait le secret priv√©. Elle va donc cr√©er le token d'un utilisateur authentifi√©, en y ajoutant le claim (ou les affirmations) qu'elle juge utile.\", React.createElement(_components.br), \"\\n\", \"Lorsque le client re√ßoit son token, il va le sauvegarder dans son browser.\", React.createElement(_components.br), \"\\n\", \"Pour chaque requ√™te n√©cessitant une autorisation de l'API, le client enverra son token au sein du header de la requ√™te.\", React.createElement(_components.br), \"\\n\", \"L'API utilisera le secret priv√©, connu d'elle-m√™me uniquement, pour v√©rifier la signature du token. Si tout est OK, c'est que l'utilisateur est bien authentifi√© et que son claim est OK.\"), \"\\n\", React.createElement(_components.p, null, \"Imaginez maintenant qu'un hackeur tente de modifier le token, pour modifier le claim, notamment en changeant l'id de l'utilisateur pr√©sent dans le payload du token.\\r\\nEt bien la signature ne correspondra plus √† ce token l√† ! L'API le d√©tectera.\", React.createElement(_components.br), \"\\n\", \"Pour que le hackeur r√©ussisse son acte malicieux, il est oblig√© de conna√Ætre le secret priv√© qui ne doit √™tre connu que de l'API. Ca ne serait que sur base du secret priv√© que les hackeurs pourraient g√©n√©rer un nouveau token qui serait valid√© par l'API. Pas √©vident √† faire...\"), \"\\n\", React.createElement(_components.p, null, \"Ainsi, on peut imaginer un token comme une enveloppe s√©curis√© par un cadenas tr√®s sp√©cial : ce cadenas, qui est mis sur l'enveloppe contenant, par exemple, l'identifiant d'un utilisateur, est ferm√© par la cl√© üîë que seulement conna√Æt l'API.\\r\\nSi quelqu'un touche √† l'enveloppe, le cadenas ne s'ouvrira plus avec la üîë de l'API : la tentative de hackage sera d√©tect√©e !\\r\\nSi quelqu'un tente de cr√©er une enveloppe s√©curis√©, il le fera avec une autre cl√©, \", React.createElement(_components.strong, null, \"üóù\"), \" par exemple, car il ne conna√Æt pas üîë. L'API, tentant d'ouvrir l'enveloppe s√©curis√©e √† l'aide de üîë, elle ne s'ouvrira pas : la tentative de hacking sera d√©tect√©e !\"), \"\\n\", React.createElement(_components.p, null, \"üí≠ Est-ce que cette m√©taphore d'enveloppe s√©curis√©e vous parle ?\\r\\nAttention que dans la r√©alit√©, le payload classique d'un token sera d√©codable, que l'on connaisse ou pas le secret priv√©. Il est encod√© en base64 ! Ne mettez donc jamais de secrets dans le payload d'un token !\", React.createElement(_components.br), \"\\n\", \"Si vraiment un jour vous deviez mettre un secret dans un payload, bien que d√©conseill√©, vous pourriez toujours le faire en cryptant le payload.\"), \"\\n\", React.createElement(_components.p, null, \"üëç Le m√©canisme de token assure que l'on aie une tr√®s haute probabilit√© de d√©tecter les alt√©rations faites sur les tokens, les tentatives de forgeage, gr√¢ce √† la signature de ceux-ci.\"), \"\\n\", React.createElement(_components.p, null, \"‚ö° Par contre, si nous laissions tra√Æner des informations dans le payload d'un token, comme un password d'un utilisateur et son username, alors l√†, c'est juste un beau cadeau que l'on offre aux hackeurs ; ils n'auraient plus qu'√† trouver un moyen de voler √† distance nos donn√©es de session ; ils pourraient ensuite utiliser le formulaire de connexion et prendre possession de notre identit√© üò®.\"), \"\\n\", React.createElement(_components.p, null, \"Il existe un site fort int√©ressant qui montre la structure d'un token et qui permet de les d√©coder : \", React.createElement(_components.a, {\n    href: \"https://jwt.io/\"\n  }, \"jwt.io\"), \" \", React.createElement(_components.a, {\n    href: \"/web2/references/#r63\"\n  }, \"[R.63]\"), \". Nous l'utiliserons plus tard pour d√©coder les tokens g√©n√©r√©s par nos RESTful API.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Authentification et cr√©ation de token \")), \"\\n\", React.createElement(\"div\", {\n    className: \"card card__simple-youtube-container\"\n  }, React.createElement(YoutubeImage, {\n    src: \"https://youtu.be/lVTM0x0vOrg\"\n  })), \"\\n\", React.createElement(_components.h2, null, \"Introduction\"), \"\\n\", React.createElement(_components.p, null, \"Via un exemple concret associ√© √† notre RESTful API qui g√®re les ressources de type \\\"pizzas\\\", nous allons mettre en place un processus d'authentification et d'autorisation JWT.\"), \"\\n\", React.createElement(_components.p, null, \"La librairie que nous allons utiliser dans le cadre de ce cours pour g√©rer des tokens JWT est \", React.createElement(_components.a, {\n    href: \"https://www.npmjs.com/package/jsonwebtoken\"\n  }, \"jsonwebtoken\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Dans ce nouveau tutoriel, nous allons continuer le d√©veloppement de l'API \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/fat-model\"\n  }, \"api-fat-model\"), \" pour ajouter des op√©rations permettant l'authentification et l'autorisation d'utilisateurs.\"), \"\\n\", React.createElement(_components.p, null, \"Au sein de votre repo \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \", veuillez cr√©er le projet nomm√© \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/api/auths\")), \" sur base d'un copi√© coll√© de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/api/fat-model\")), \" (ou \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/fat-model\"\n  }, \"api-fat-model\"), \").\"), \"\\n\", React.createElement(_components.p, null, \"Pour la suite du tutoriel, nous consid√©rons que tous les chemins absolus d√©marrent du r√©pertoire\\r\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/web2/tutorials/pizzeria/api/auths\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez installer la librairie \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jsonwebtoken\")), \" au sein de votre nouveau projet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths\")), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-bash\"\n  }, \"npm i jsonwebtoken\\n\")), \"\\n\", React.createElement(_components.h2, null, \"M√©canisme d'authentification et cr√©ation du token\"), \"\\n\", React.createElement(_components.p, null, \"Toujours √† l'aide d'Express, nous allons cr√©er un router \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths\")), \" qui mettra √† disposition les op√©rations de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \" et de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \".\\r\\nVoici le contrat associ√© √† ces nouvelles op√©rations :\"), \"\\n\", React.createElement(_components.h5, null, \"Op√©rations sur les ressources de type \\\"auths\\\"\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"URI\"), React.createElement(_components.th, null, \"M√©thode HTTP\"), React.createElement(_components.th, null, \"Op√©ration\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths/login\"))), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"POST\")), React.createElement(_components.td, null, \"V√©rifier les credentials d'une ressource de type \\\"users\\\" et renvoyer le username et un token JWT si les credentials sont OK\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths/register\"))), React.createElement(_components.td, null, React.createElement(_components.strong, null, \"POST\")), React.createElement(_components.td, null, \"Cr√©er une ressource de type \\\"users\\\" et renvoyer le username et un token JWT\")))), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.p, null, \"Le mod√®le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"users\")), \" s'occupera de cr√©er les utilisateur, de v√©rifier leurs credentials ainsi que de cr√©er des token.\"), \"\\n\", React.createElement(_components.p, null, \"Voici le workflow attendu pour une op√©ration de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \" ou de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \" :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"login.png\",\n    minWidth: \"879px\",\n    maxWidth: \"879x\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Appel √† une RESTful API pour s'authentifier et obtenir un JWT\"), \"\\n\", React.createElement(_components.p, null, \"Ce que l'on voit dans l'image ci-dessus :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"si le mod√®le consid√®re que l'utilisateur est authentifiable, que ses credentials sont OK, alors il va utiliser la m√©thode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"sign\")), \" de l'objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jwt\")), \" pour cr√©er un token.\"), \"\\n\", React.createElement(_components.li, null, \"le token est envoy√© dans le body de la r√©ponse √† l'utilisateur.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Ce que l'on ne voit pas dans l'image ci-dessus :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"c'est le job du client de sauvegarder le token. Si l'application cliente est un browser, alors celui-ci pourra √™tre sauvegard√© dans le web storage du browser.\"), \"\\n\", React.createElement(_components.li, null, \"l'application cliente peut √™tre faite avec n'importe quelle technologie. Par exemple, nous pourrons utiliser REST Client pour faire une requ√™te √† l'API...\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Dans notre RESTful API, nous avons d√©cid√© que lorsqu'un client s'enregistre, quand il fait appel √† l'op√©ration \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \" pour cr√©er un compte, l'API consid√®re automatiquement que cet utilisateur est authentifi√©. Tout comme la m√©thode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \", la m√©thode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \" cr√©era et renverra un token JWT √† l'utilisateur.\"), \"\\n\", React.createElement(_components.p, null, \"NB : Il est possible d'envisager un workflow diff√©rent : apr√®s le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \", l'application demanderait √† l'utilisateur un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \", \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \" ne renvoyant jamais de token √† l'utilisateur.\"), \"\\n\", React.createElement(_components.h2, null, \"Impl√©mentation de login & register\"), \"\\n\", React.createElement(_components.p, null, \"Nous allons √† pr√©sent mettre en place le code permettant d'impl√©menter le workflow que l'on vient de d√©couvrir.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez cr√©er le mod√®le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"users\")), \" en cr√©ant le fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/models/users.js\")), \" et y inclure ce code :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,5-6,23-27,29-31,34,43-47,49-52,54\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const jwt = require('jsonwebtoken');\\r\\nconst path = require('node:path');\\r\\nconst { parse, serialize } = require('../utils/json');\\r\\n\\r\\nconst jwtSecret = 'ilovemypizza!';\\r\\nconst lifetimeJwt = 24 * 60 * 60 * 1000; // in ms : 24 * 60 * 60 * 1000 = 24h\\r\\n\\r\\nconst jsonDbPath = path.join(__dirname, '/../data/users.json');\\r\\n\\r\\nconst defaultUsers = [\\r\\n  {\\r\\n    id: 1,\\r\\n    username: 'admin',\\r\\n    password: 'admin',\\r\\n  },\\r\\n];\\r\\n\\r\\nfunction login(username, password) {\\r\\n  const userFound = readOneUserFromUsername(username);\\r\\n  if (!userFound) return undefined;\\r\\n  if (userFound.password !== password) return undefined;\\r\\n\\r\\n  const token = jwt.sign(\\r\\n    { username }, // session data added to the payload (payload : part 2 of a JWT)\\r\\n    jwtSecret, // secret used for the signature (signature part 3 of a JWT)\\r\\n    { expiresIn: lifetimeJwt }, // lifetime of the JWT (added to the JWT payload)\\r\\n  );\\r\\n\\r\\n  const authenticatedUser = {\\r\\n    username,\\r\\n    token,\\r\\n  };\\r\\n\\r\\n  return authenticatedUser;\\r\\n}\\r\\n\\r\\nfunction register(username, password) {\\r\\n  const userFound = readOneUserFromUsername(username);\\r\\n  if (userFound) return undefined;\\r\\n\\r\\n  createOneUser(username, password);\\r\\n\\r\\n  const token = jwt.sign(\\r\\n    { username }, // session data added to the payload (payload : part 2 of a JWT)\\r\\n    jwtSecret, // secret used for the signature (signature part 3 of a JWT)\\r\\n    { expiresIn: lifetimeJwt }, // lifetime of the JWT (added to the JWT payload)\\r\\n  );\\r\\n\\r\\n  const authenticatedUser = {\\r\\n    username,\\r\\n    token,\\r\\n  };\\r\\n\\r\\n  return authenticatedUser;\\r\\n}\\r\\n\\r\\nfunction readOneUserFromUsername(username) {\\r\\n  const users = parse(jsonDbPath, defaultUsers);\\r\\n  const indexOfUserFound = users.findIndex((user) => user.username === username);\\r\\n  if (indexOfUserFound < 0) return undefined;\\r\\n\\r\\n  return users[indexOfUserFound];\\r\\n}\\r\\n\\r\\nfunction createOneUser(username, password) {\\r\\n  const users = parse(jsonDbPath, defaultUsers);\\r\\n\\r\\n  const createdUser = {\\r\\n    id: getNextId(),\\r\\n    username,\\r\\n    password,\\r\\n  };\\r\\n\\r\\n  users.push(createdUser);\\r\\n\\r\\n  serialize(jsonDbPath, users);\\r\\n\\r\\n  return createdUser;\\r\\n}\\r\\n\\r\\nfunction getNextId() {\\r\\n  const users = parse(jsonDbPath, defaultUsers);\\r\\n  const lastItemIndex = users?.length !== 0 ? users.length - 1 : undefined;\\r\\n  if (lastItemIndex === undefined) return 1;\\r\\n  const lastId = users[lastItemIndex]?.id;\\r\\n  const nextId = lastId + 1;\\r\\n  return nextId;\\r\\n}\\r\\n\\r\\nmodule.exports = {\\r\\n  login,\\r\\n  register,\\r\\n  readOneUserFromUsername,\\r\\n};\\r\\n\\n\")), \"\\n\", React.createElement(_components.p, null, \"Dans le code ci-dessus, \", React.createElement(_components.strong, null, \"jwtSecret\"), \" est le secret priv√© connu uniquement du serveur. C'est la m√™me secret qu'il faudra utiliser pour v√©rifier un token.\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jwt.sign()\")), \" permet de cr√©er le token et ses 3 parties :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"le payload du token, la 2√®me partie du token, est compl√©t√© principalement via le permier argument de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"sign()\")), \" ; ici, le token affirme que l'utilisateur poss√©dant le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"username\")), \" donn√© est authentifi√©.\"), \"\\n\", React.createElement(_components.li, null, \"le payload du token sera aussi modifi√© sur base de la dur√©e d'expiration du token, selon l'argument \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"expiresIn\")), \".\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jwtSecret\")), \" est utilis√© pour cr√©er la 3√®me partie du token, sa signature.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Il faut maintenant que nous cr√©ions le router \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths\")), \" offrant les op√©rations de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \" et de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \", en faisant appel au mod√®le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"users\")), \".\", React.createElement(_components.br), \"\\n\", \"Veuillez cr√©er le fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/routes/auths.js\")), \" et y inclure le code suivant :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const express = require('express');\\r\\nconst { register, login } = require('../models/users');\\r\\n\\r\\nconst router = express.Router();\\r\\n\\r\\n/* Register a user */\\r\\nrouter.post('/register', (req, res) => {\\r\\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\\r\\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\\r\\n\\r\\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Request\\r\\n\\r\\n  const authenticatedUser = register(username, password);\\r\\n\\r\\n  if (!authenticatedUser) return res.sendStatus(409); // 409 Conflict\\r\\n\\r\\n  return res.json(authenticatedUser);\\r\\n});\\r\\n\\r\\n/* Login a user */\\r\\nrouter.post('/login', (req, res) => {\\r\\n  const username = req?.body?.username?.length !== 0 ? req.body.username : undefined;\\r\\n  const password = req?.body?.password?.length !== 0 ? req.body.password : undefined;\\r\\n\\r\\n  if (!username || !password) return res.sendStatus(400); // 400 Bad Reques\\r\\n\\r\\n  const authenticatedUser = login(username, password);\\r\\n\\r\\n  if (!authenticatedUser) return res.sendStatus(401); // 401 Unauthorized\\r\\n\\r\\n  return res.json(authenticatedUser);\\r\\n});\\r\\n\\r\\nmodule.exports = router;\\n\")), \"\\n\", React.createElement(_components.p, null, \"Il n'y a rien de bien sp√©cial √† ce code. On fait simplement appel aux op√©rations du mod√®le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"users\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"Attention, il faut rajouter le nouveau router au sein de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"app.js\")), \" pour que notre API puisse offrir les nouvelles op√©rations ; veuillez donc ajouter ce code dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/app.js\")), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"7,18\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const express = require('express');\\r\\nconst cookieParser = require('cookie-parser');\\r\\nconst logger = require('morgan');\\r\\n\\r\\nconst usersRouter = require('./routes/users');\\r\\nconst pizzaRouter = require('./routes/pizzas');\\r\\nconst authsRouter = require('./routes/auths');\\r\\n\\r\\nconst app = express();\\r\\n\\r\\napp.use(logger('dev'));\\r\\napp.use(express.json());\\r\\napp.use(express.urlencoded({ extended: false }));\\r\\napp.use(cookieParser());\\r\\n\\r\\napp.use('/users', usersRouter);\\r\\napp.use('/pizzas', pizzaRouter);\\r\\napp.use('/auths', authsRouter);\\r\\n\\r\\nmodule.exports = app;\\n\")), \"\\n\", React.createElement(_components.h2, null, \"Utilisation de Rest Client pour tester les nouvelles op√©rations\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez d√©marrer votre API \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"auths\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"On va utiliser REST Client pour tester ces nouvelles op√©rations.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez cr√©er le fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/REST Client/auths.http\")), \" et y ajouter le code suivant :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"@baseUrl = http://localhost:3000\\r\\n\\r\\n### Try to login an unknow user\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"unknown\\\",\\r\\n    \\\"password\\\":\\\"admin\\\"\\r\\n}\\r\\n\\r\\n### Login the default admin\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"admin\\\",\\r\\n    \\\"password\\\":\\\"admin\\\"\\r\\n}\\r\\n\\r\\n\\r\\n### Create the manager user\\r\\nPOST {{baseUrl}}/auths/register\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"manager\\\",\\r\\n    \\\"password\\\":\\\"manager\\\"\\r\\n}\\r\\n\\r\\n### Login the manager user\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"manager\\\",\\r\\n    \\\"password\\\":\\\"manager\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez ex√©cuter les diff√©rentes requ√™tes. Tout devrait fonctionner, vous devriez r√©cup√©rer le username et le token d'un utilisateur authentifi√©.\"), \"\\n\", React.createElement(_components.p, null, \"Pour le fun, nous allons d√©coder un token :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Veuillez copier le token de ce que renvoie votre API pour la requ√™te de login de l'utilisateur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"manager\")), \" (qqch qui doit ressembler √† une string du genre : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hbmFnZXIiLCJpYXQiOjE2NjEyNDg1MjksImV4cCI6MTc0NzY0ODUyOX0.JvYzM0gtmVkqFr9R3f1Bf6ow_QuyHJY-vedJ39N7JKw\")), \").\"), \"\\n\", React.createElement(_components.li, null, \"Veuillez vous rendre sur le site \", React.createElement(_components.a, {\n    href: \"https://jwt.io/\"\n  }, \"JWT\"), \" et coller votre token dans le champs \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Encoded\")), \". Dans la colonne \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Decoded\")), \", vous devriez voir l'algorithme utilis√© par la m√©thode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"sign\")), \", ainsi que les donn√©es pr√©sentes dans le payload, dont \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"\\\"username\\\": \\\"manager\\\"\")), \" !\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Vous comprenez maintenant pourquoi on n'ajoute pas des secrets dans un token üòâ.\"), \"\\n\", React.createElement(_components.h2, null, \"Cacher ses secrets\"), \"\\n\", React.createElement(_components.p, null, \"Dans ce cours-ci, vous pouvez, de mani√®re optionnelle, voir comment faire en sorte que le secret,  permettant de signer & v√©rifier les token, ne soit pas pr√©sent sur le web repository de vos API (par exemple ici le mod√®le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"users.js\")), \" hardcode ce secret). En effet, pour des raisons de s√©curit√©, si votre secret est visible pour tous les d√©veloppeurs qui acc√®de √† votre repository public, c'est un probl√®me !\"), \"\\n\", React.createElement(_components.p, null, \"Si vous souhaitez d√©couvrir comment faire en sorte de rendre invisible des informations sensibles sur un web repository, tout en pouvant b√©n√©ficiant de ces infos dans votre environnement de d√©veloppement, vous pouvez consulter la partie 3 du cours sur la \", React.createElement(_components.a, {\n    href: \"../../part3/#%F0%9F%8D%AC_protection_de_ses_secrets\"\n  }, \"Protection de ses secrets\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Autorisation et v√©rification de token \")), \"\\n\", React.createElement(_components.h2, null, \"M√©canisme d'autorisation d'utilisateurs √† des op√©rations d'une API\"), \"\\n\", React.createElement(_components.h3, null, \"Intro\"), \"\\n\", React.createElement(_components.p, null, \"Dans le workflow que nous avons choisi, les utilisateurs re√ßoivent un token lors du \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \" ou du \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \". C'est le job de l'application cliente de trouver un moyen de sauvegarder ce token.\"), \"\\n\", React.createElement(_components.p, null, \"Lorsqu'une application client souhaite cr√©er une pizza, on souhaite autoriser cette op√©ration qu'√† l'administrateur du site g√©rant la pizz√©ria.\", React.createElement(_components.br), \"\\n\", \"Nous d√©cidons donc pour l'\", React.createElement(_components.strong, null, \"op√©ration de cr√©ation de pizza que l'utilisateur doit\"), \" non seulement √™tre \", React.createElement(_components.strong, null, \"authentifi√©\"), \", mais qu'en plus, il doit √™tre l'\", React.createElement(_components.strong, null, \"admin\"), \" du site.\"), \"\\n\", React.createElement(_components.h3, null, \"M√©canisme d'autorisation quand le token JWT est valide\"), \"\\n\", React.createElement(_components.p, null, \"Pour que l'application client qui fait la requ√™te √† l'API puisse s'autoriser, elle doit ajouter un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorization header\")), \" √† sa requ√™te contenant comme valeur le token re√ßu lors du \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"login\")), \" ou du \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"register\")), \" :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"authorizeOK.png\",\n    minWidth: \"879px\",\n    maxWidth: \"879x\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Appel √† une op√©ration d'une RESTful API n√©cessitant une autorisation JWT : autorisation valide\"), \"\\n\", React.createElement(_components.p, null, \"Le router de \\\"pizzas\\\", avant m√™me de passer la requ√™te √† la route \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"POST /pizzas\")), \", va lancer la fonction middleware d'autorisation nomm√©e \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \". La fonction middleware \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" va s'occuper de v√©rifier le token envoy√© par le client dans un header √† l'aide de la m√©thode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"verifiy\")), \" de l'objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jwt\")), \" (de la librairie \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jsonwebtoken\")), \").\"), \"\\n\", React.createElement(_components.p, null, \"üí≠ Si le token est valide, est-ce que √ßa signifie que l'utilisateur est bien authentifi√© ?\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"H√© bien non, car imaginez qu'entre le moment o√π l'utilisateur se soit logu√©, il ait √©t√© supprim√© de l'application par un admin... dans ce cas-ci, on ne veut pas l'autoriser √† ajouter une pizza au menu de la pizzeria ! Il n'est p-e m√™me plus un employ√©, il souhaite p-e √©crire du contenu malicieux üò®\")), \"\\n\", React.createElement(_components.p, null, \"Donc si le token est valide, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" fera appel au mod√®le de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"users\")), \" pour v√©rifier que l'utilisateur existe bien dans le support de donn√©es (fichiers JSON, base de donn√©es ou autres) et pour obtenir toutes les infos sur cet utilisateur. Si l'utilisateur existe, alors cela signifie que l'utilisateur est bien authentifi√©. La fonction middleware \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" va passer la main √† une autre fonction middleware pour v√©rifier que l'utilisateur est bien l'admin.\"), \"\\n\", React.createElement(_components.p, null, \"üí≠ Comment est-ce que \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" peut faire appel au mod√®le pour v√©rifier que l'utilisateur existe bien ? Est-ce que cela signifie que le token doit contenir tout un tas de donn√©es sur l'utilisateur ?\"), \"\\n\", React.createElement(_components.p, null, \"üëç En r√®gle g√©n√©rale, on va juste mettre un identifiant de l'utilisateur dans ce qu'on appelle le \", React.createElement(_components.strong, null, \"payload\"), \" du token. C'est ensuite l'API, suite au d√©codage de l'identifiant de l'utilisateur, qui fera appel aux donn√©es pour retrouver tout ce qui concerne l'utilisateur.\"), \"\\n\", React.createElement(_components.p, null, \"La fonction middleware \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" va v√©rifier que l'utilisateur est bien l'admin. Si c'est OK, elle passera la main √† la fonction middleware qui g√®re la route \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"POST /pizzas\")), \" au sein du router de pizzas en faisant l'appel √† la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"next\")), \".\", React.createElement(_components.br), \"\\n\", React.createElement(_components.em, null, \"üç¨ NB : on pourrait aussi laisser la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"createOnePizza\")), \" s'occuper de v√©rifier que l'utilisateur demandant la cr√©ation de la pizza soit bien l'admin. Ici, comme il s'agit de v√©rifier que le contrat de l'API soit respect√©, c'est-√†-dire que l'utilisateur soit bien authentifi√© & admin, alors on pr√©f√®re r√©aliser cette action en dehors du mod√®le. Dans nos choix architecturaux pour nos RESTful API, nous avons d√©cid√© que ce n'est pas le mod√®le qui s'occupe de pr√©senter les donn√©es aux clients, c'est le r√¥le des routers (et les fonctions middleware associ√©es).\")), \"\\n\", React.createElement(_components.p, null, \"Maintenant que le client a les bons privil√®ges, l'op√©ration de cr√©ation de la pizza peut donc √™tre autoris√©e. L'op√©ration de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"createOnePizza\")), \" du mod√®le renverra la nouvelle pizza au router qui s'occupera de pr√©senter la nouvelle pizza au client, au format JSON.\"), \"\\n\", React.createElement(_components.h3, null, \"M√©canisme d'autorisation quand le token JWT est invalide\"), \"\\n\", React.createElement(_components.p, null, \"Voici le workflow d'autorisation si le token n'est pas valide :\"), \"\\n\", React.createElement(ScrollableImage, {\n    name: \"authorizeNOK.png\",\n    minWidth: \"879px\",\n    maxWidth: \"879x\"\n  }), \"\\n\", React.createElement(\"figcaption\", null, \"Appel √† une op√©ration d'une RESTful API n√©cessitant une autorisation JWT : autorisation invalide\"), \"\\n\", React.createElement(_components.p, null, \"Dans ce cas l√†, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" ne passe pas la main √† \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" ni m√™me √† la fonction middleware qui g√®re la route \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"POST /pizzas\")), \".\", React.createElement(_components.br), \"\\n\", \"La fonction middleware \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" renvoie directement un code d'erreur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"401 Unauthorized\")), \" au client.\"), \"\\n\", React.createElement(_components.h3, null, \"M√©canisme d'autorisation quand l'utilisateur n'est pas admin\"), \"\\n\", React.createElement(_components.p, null, \"Vous pourriez aussi imaginer le workflow o√π le client envoie un token valide, mais l'utilisateur associ√© n'est pas admin. Dans ce cas-ci, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" ferait appel √† \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \", mais \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" renverrait directement un code d'erreur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"403 Forbidden\")), \" au client.\", React.createElement(_components.br), \"\\n\", \"En effet, l'API indiquerait ainsi qu'elle aurait v√©rifi√© que l'utilisateur est bien authentifi√©, mais que celui ne poss√®de pas les privil√®ges suffisant pour acc√©der √† l'op√©ration demand√©e.\"), \"\\n\", React.createElement(_components.h2, null, \"Impl√©mentation du m√©canisme d'autorisation\"), \"\\n\", React.createElement(_components.p, null, \"üò® Wow, le workflow d'autorisation pour la cr√©ation d'une pizza est assez long.\", React.createElement(_components.br), \"\\n\", \"Nous allons maintenant l'impl√©menter dans notre tutoriel en cours.\", React.createElement(_components.br), \"\\n\", \"Nous vous inqui√©tez pas, ce qui importe dans le code qui va suivre, ce n'est pas de savoir √©crire tout le code, mais de bien comprendre les m√©canismes associ√©s. En effet, en r√®gle g√©n√©rale, vous allez utiliser des librairies vous permettant d'autoriser les acc√®s aux op√©rations de vos API. Vous √©crirez donc rarement les m√©canismes d'autorisation, par contre, vous devrez pouvoir les utiliser.\"), \"\\n\", React.createElement(_components.p, null, \"Veuillez cr√©er les nouvelles fonctions middleware \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" et \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" au sein d'un nouveau fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/utils/auths.js\")), \" :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"1,4,7,11-12,18\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"const jwt = require('jsonwebtoken');\\r\\nconst { readOneUserFromUsername } = require('../models/users');\\r\\n\\r\\nconst jwtSecret = 'ilovemypizza!';\\r\\n\\r\\nconst authorize = (req, res, next) => {\\r\\n  const token = req.get('authorization');\\r\\n  if (!token) return res.sendStatus(401);\\r\\n\\r\\n  try {\\r\\n    const decoded = jwt.verify(token, jwtSecret);\\r\\n    const { username } = decoded;\\r\\n\\r\\n    const existingUser = readOneUserFromUsername(username);\\r\\n\\r\\n    if (!existingUser) return res.sendStatus(401);\\r\\n\\r\\n    req.user = existingUser; // request.user object is available in all other middleware functions\\r\\n    return next();\\r\\n  } catch (err) {\\r\\n    console.error('authorize: ', err);\\r\\n    return res.sendStatus(401);\\r\\n  }\\r\\n};\\r\\n\\r\\nconst isAdmin = (req, res, next) => {\\r\\n  const { username } = req.user;\\r\\n\\r\\n  if (username !== 'admin') return res.sendStatus(403);\\r\\n  return next();\\r\\n};\\r\\n\\r\\nmodule.exports = { authorize, isAdmin };\\n\")), \"\\n\", React.createElement(_components.p, null, \"Voici quelques explications sur le code de la fonction middleware \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Gr√¢ce √† \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"req.get('authorization')\")), \" (ligne 7), on r√©cup√®re le token qui a √©t√© envoy√© par le client au sein de l'\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorization header\")), \" de la requ√™te sous forme de string.\"), \"\\n\", React.createElement(_components.li, null, \"La m√©thode \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jwt.verify(token, jwtSecret)\")), \" (ligne 11) v√©rifie tant la signature du token que son √©ventuelle expiration. Elle utilise le secret \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"jwtSecret\")), \" qui doit √™tre le m√™me que celui pris en compte lors de la cr√©ation du token.\"), \"\\n\", React.createElement(_components.li, null, \"Elle charge toutes les donn√©es de l'utilisateur authentifi√© au sein de l'objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"req\")), \" (ligne 18), dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"user\")), \". Cela est une bonne pratique, cela permet, pour toute la dur√©e du traitement de cette requ√™te, de mettre √† disposition ces donn√©es √† toutes les fonctions middleware.\", React.createElement(_components.br), \"\\n\", \"üí≠ Mais pourquoi faire cela ?\\r\\n\", React.createElement(_components.em, null, \"Imaginez que vous faites un appel √† une base de donn√©es externes √† chaque fois que vous souhaitez obtenir les informations d'un utilisateur... Cela est tr√®s consommateur en temps... Lorsque vous allez utiliser d'autres fonctions middleware comme \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \", vous n'avez plus besoin de faire appel √† la base de donn√©es.\")), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"La fonction middleware \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" r√©cup√®re les donn√©es de l'utilisateur authentifi√© via l'objet \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"req.user\")), \".\", React.createElement(_components.br), \"\\n\", \"Si l'utilisateur n'est pas \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \", c'est le code \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"403 Forbidden\")), \" qui est renvoy√© √† l'application cliente, signifiant que l'utilisateur est bien authentifi√©, mais il n'a pas les privil√®ges pour acc√©der √† l'op√©ration demand√©e (cr√©ation de pizza).\", React.createElement(_components.br), \"\\n\", \"Si tout est OK, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" fait appel √† \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"next()\")), \", ce qui consiste √† ex√©cuter la prochaine fonction middleware qui est pr√©sente apr√®s l'appel de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"O√π allons-nous utiliser ces nouvelles fonctions middleware ?\"), \"\\n\", React.createElement(_components.p, null, \"Nous pouvons le faire au niveau que nous souhaitons, soit au niveau :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"de l'\", React.createElement(_components.strong, null, \"application\"), \", pour toutes les routes, via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"app.use(authorize)\")), \".\"), \"\\n\", React.createElement(_components.li, null, \"d'un \", React.createElement(_components.strong, null, \"router\"), \", pour toutes les routes associ√©es ; par exemple, on pourrait dire que toutes les routes du router de pizzas sont prot√©g√©es par une autorisation JWT. On √©crirait : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"app.use(\\\"/pizzas\\\", authorize, pizzaRouter);\")), \".\", React.createElement(_components.br), \"\\n\", \"Cela signifierait que toutes les op√©rations sur des ressources de type \\\"pizzas\\\" ne seraient autoris√©es que si l'utilisateur √©tait authentifi√©. Cela serait probl√©matique pour deux raisons :\", \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"On veut pouvoir afficher le menu des pizzas pour tous les utilisateurs, m√™me s'ils sont anonymes.\"), \"\\n\", React.createElement(_components.li, null, \"On ne veut pas simplement v√©rifier qu'un utilisateur est authentifi√© pour cr√©er une pizza, on veut aussi v√©rifier qu'il est admin.\"), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"d'une route, pour une op√©ration de notre RESTful API. C'est ce que nous souhaitons faire ici. Veuillez mettre √† jour le code du router de \\\"pizzas\\\" au sein de \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/routes/pizzas.js\")), \" :\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"2,7\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// See existing code\\r\\nconst { authorize, isAdmin } = require('../utils/auths');\\r\\n\\r\\n// See existing code\\r\\n\\r\\n// Create a pizza to be added to the menu.\\r\\nrouter.post('/', authorize, isAdmin, (req, res) => {\\r\\n  const title = req?.body?.title?.length !== 0 ? req.body.title : undefined;\\r\\n  const content = req?.body?.content?.length !== 0 ? req.body.content : undefined;\\r\\n\\r\\n  if (!title || !content) return res.sendStatus(400); // error code '400 Bad request'\\r\\n\\r\\n  const createdPizza = createOnePizza(title, content);\\r\\n\\r\\n  return res.json(createdPizza);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Ainsi, nous avons juste fait l'appel de deux fonctions middleware pour v√©rifier :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"que l'utilisateur est authentifi√©\"), \" via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" ; si tout est OK au niveau du token fournit par l'application cliente, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" fait appel via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"next()\")), \" √† la prochaine fonction middleware. Dans ce cas-ci, c'est \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \". S'il y a un probl√®me, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"authorize\")), \" termine le traitement de la requ√™te en envoyant un code d'erreur au client et les prochaines fonctions middleware (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \", puis la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"arrow\")), \") ne sont pas ex√©cut√©es.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"que l'utilisateur est admin\"), \" via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" ; si tout est OK, que l'utilisateur authentifi√© est l'admin, \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" fait appel via \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"next()\")), \" √† la prochaine fonction middleware. Dans ce cas-ci, c'est la fonction \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"arrow\")), \" qui appelle l'op√©ration demand√©e pour cr√©er la pizza : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"createOnePizza\")), \". Si l'utilisateur authentifi√© n'est pas l'admin, alors \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"isAdmin\")), \" termine le traitement en envoyant un code d'erreur au client et la fonction traitant de l'op√©ration de cr√©ation n'est pas ex√©cut√©e.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Comment pouvons-nous tester l'op√©ration de cr√©ation d'une pizza ? Via REST Client.\\r\\nTentons le coup √† l'aide de cette requ√™te (elle est d√©j√† pr√©sente dans \", React.createElement(_components.strong, null, \"/REST Client/pizzas.http\"), \") :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"POST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Apr√®s avoir ex√©cut√© cette requ√™te, vous devriez avoir re√ßu un status code \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"401 Unauthorized\")), \".\\r\\nC'est normal, comme nous n'avons pas envoy√© de token, nous ne pouvons donc pas √™tre autoris√©.\", React.createElement(_components.br), \"\\n\", \"Au prochain point nous allons voir comment utiliser REST Client pour sauvegarder de l'information, comme un token, suite √† une requ√™te vers une API.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Client REST avec JWT \")), \"\\n\", React.createElement(_components.p, null, \"Pr√©c√©demment, nous avons appris √† utiliser REST Client, l'extension de VS Code, pour faire des requ√™tes vers des API.\"), \"\\n\", React.createElement(_components.p, null, \"Voici quelques notions suppl√©mentaire pour utiliser REST Client avec des \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"JWT\")), \" :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Il est possible de cr√©er des \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Request Variables\")), \" afin de \", React.createElement(_components.strong, null, \"r√©cup√©rer la r√©ponse\"), \" associ√©e\\r\\n√† une requ√™te au sein d'une variable.\"), \"\\n\", React.createElement(_components.li, null, \"On va donc pouvoir r√©cup√©rer le token, suite √† une requ√™te d'authentification,\\r\\nau sein d'une \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Request Variable\")), \", pour ensuite fournir ce token dans le \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Authorization header\")), \" de toutes les requ√™tes demandant une autorisation JWT.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Si vous souhaitez plus d'infos sur les \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Request Variables\")), \", vous pouvez consulter la \", React.createElement(_components.a, {\n    href: \"https://github.com/Huachao/vscode-restclient#request-variables\"\n  }, \"documentation de REST Client\"), \" \", React.createElement(_components.a, {\n    href: \"/web2/references/#r55\"\n  }, \"[R.55]\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Voici comment mettre √† jour le script \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/REST Client/pizzas.http\")), \" pour cr√©er une pizza en passant le token de l'utilisateur \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"admin\")), \" :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Create a pizza by using the admin account\\r\\n#### First login as the admin\\r\\n##### Define a request variable nammed admin :\\r\\n# @name admin\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"admin\\\",\\r\\n    \\\"password\\\":\\\"admin\\\"\\r\\n}\\r\\n\\r\\n#### Create a pizza with the admin token\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\nAuthorization: {{admin.response.body.token}}\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour tester l'op√©ration de cr√©ation de pizza, veuillez d'abord ex√©cuter la premi√®re requ√™te, puis la seconde donn√©e ci-dessus.\"), \"\\n\", React.createElement(_components.p, null, \"A ce stade-ci, il serait aussi int√©ressant de tester certains cas d'erreurs associ√©s aux tokens. Veuillez compl√©ter le script \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/REST Client/pizzas.http\")), \" avec :\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### 1. Create a pizza without a token\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\r\\n\\r\\n### 2. Create a pizza without being the admin, use manager account\\r\\n#### 2.1 First login as the manager\\r\\n##### 2.1.1 Define a request variable nammed manager\\r\\n# @name manager\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"manager\\\",\\r\\n    \\\"password\\\":\\\"manager\\\"\\r\\n}\\r\\n\\r\\n##### 2.1.2 Define a file variable to simplify the access to the token of manager\\r\\n@managerToken = {{manager.response.body.token}}\\r\\n\\r\\n#### 2.2 Try to create a pizza with the manager token\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\nAuthorization: {{managerToken}}\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Nous voyons qu'√† l'aide de REST Client, nous pouvons utiliser une \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"File Variable\")), \" pour allouer une partie de la r√©ponse faite √† une requ√™te.\", React.createElement(_components.br), \"\\n\", \"Dans ce cas, on peut faire appel √† l'API en passant le token via la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"File Variable\")), \" nomm√© \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"managerToken\")), \" (code associ√© : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Authorization: {{managerToken}}\")), \") au lieu d'utiliser une partie seulement de la \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Request Variable\")), \" nomm√©e \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"manager\")), \" (code possible : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"Authorization: {{manager.response.body.token}}\")), \").\", React.createElement(_components.br), \"\\n\", \"Cela permet de cr√©er des requ√™tes plus concises.\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Protection des op√©rations d'√©criture d'une API \")), \"\\n\", React.createElement(_components.p, null, \"Veuillez mettre √† jour votre RESTful API g√©rant les pizzas afin que toutes les op√©rations d'√©criture soient prot√©g√©es par une autorisation JWT, n'autorisant que l'utilisateur \", React.createElement(_components.strong, null, \"admin\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Voici le code √† mettre √† jour dans \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/routes/pizzas\")), \" pour correctement autoriser les op√©rations de suppression et de modification sur des ressources de type \\\"pizzas\\\":\"), \"\\n\", React.createElement(_components.pre, {\n    highlighting: \"2,11\"\n  }, React.createElement(_components.code, {\n    className: \"language-js\"\n  }, \"// Delete a pizza from the menu based on its id\\r\\nrouter.delete('/:id', authorize, isAdmin, (req, res) => {\\r\\n  const deletedPizza = deleteOnePizza(req.params.id);\\r\\n\\r\\n  if (!deletedPizza) return res.sendStatus(404);\\r\\n\\r\\n  return res.json(deletedPizza);\\r\\n});\\r\\n\\r\\n// Update a pizza based on its id and new values for its parameters\\r\\nrouter.patch('/:id', authorize, isAdmin, (req, res) => {\\r\\n  const title = req?.body?.title;\\r\\n  const content = req?.body?.content;\\r\\n\\r\\n  if ((!title && !content) || title?.length === 0 || content?.length === 0) {\\r\\n    return res.sendStatus(400);\\r\\n  }\\r\\n\\r\\n  const updatedPizza = updateOnePizza(req.params.id, { title, content });\\r\\n\\r\\n  if (!updatedPizza) return res.sendStatus(404);\\r\\n\\r\\n  return res.json(updatedPizza);\\r\\n});\\n\")), \"\\n\", React.createElement(_components.p, null, \"Pour vous assurer que les op√©rations de suppression et de modification sont bien fonctionnelles, veuillez mettre √† jour les requ√™tes associ√©es afin d'utiliser un token. Veuillez mettre √† jour \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/REST Client/pizzas.http\")), \" en ajoutant ces deux lignes :\"), \"\\n\", React.createElement(_components.pre, {\n    numbered: true,\n    highlighting: \"25,30\"\n  }, React.createElement(_components.code, {\n    className: \"language-http\"\n  }, \"### Create a pizza by using the admin account\\r\\n#### First login as the admin\\r\\n##### Define a request variable nammed admin\\r\\n# @name admin\\r\\nPOST {{baseUrl}}/auths/login\\r\\nContent-Type: application/json\\r\\n\\r\\n{\\r\\n    \\\"username\\\":\\\"admin\\\",\\r\\n    \\\"password\\\":\\\"admin\\\"\\r\\n}\\r\\n\\r\\n#### Create a pizza with the admin token\\r\\nPOST {{baseUrl}}/pizzas\\r\\nContent-Type: application/json\\r\\nAuthorization: {{admin.response.body.token}}\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green\\\",\\r\\n    \\\"content\\\":\\\"Epinards, Brocolis, Olives vertes, Basilic\\\"\\r\\n}\\r\\n\\r\\n### Delete pizza identified by 2 with the admin token\\r\\nDELETE {{baseUrl}}/pizzas/2\\r\\nAuthorization: {{admin.response.body.token}}\\r\\n\\r\\n### Update the pizza identified by 6 with the admin token\\r\\nPATCH {{baseUrl}}/pizzas/6\\r\\nContent-Type: application/json\\r\\nAuthorization: {{admin.response.body.token}}\\r\\n\\r\\n{\\r\\n    \\\"title\\\":\\\"Magic Green 2\\\"\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Veuillez ex√©cutez les requ√™tes de type \", React.createElement(_components.strong, null, \"DELETE\"), \" et de type \", React.createElement(_components.strong, null, \"PATCH\"), \" afin de vous assurer que l'API est en ordre.\"), \"\\n\", React.createElement(_components.p, null, \"Si tout fonctionne bien, faites un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"commit\")), \" de votre repo (\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \") avec comme message :\\r\\n\", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"api auths tutorial\")), \".\"), \"\\n\", React.createElement(_components.p, null, \"En cas de souci, vous pouvez utiliser le code du tutoriel \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/js-demos/tree/main/backend-restful-api/restful-api-essentials/auths\"\n  }, \"api-auths\"), \".\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Project 4.1 : Authentification & autorisation d'op√©rations \")), \"\\n\", React.createElement(_components.p, null, \"Vous devez mettre √† jour l'API d√©velopp√©e pour \", React.createElement(_components.a, {\n    href: \"../../part2/comms-security/#project_2_18_autorisation_de_nouvelles_origines\"\n  }, \"Project 2.18\"), \" afin de s√©curiser certaines op√©rations par JWT.\"), \"\\n\", React.createElement(_components.p, null, \"Le code doit se trouver dans votre repository local et votre web repository (normalement appel√© \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"web2\")), \") dans le r√©pertoire nomm√© \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"/project/4.1/api\")), \" sur base d'un copier/coller du code de \", React.createElement(_components.a, {\n    href: \"../../part2/comms-security/#project_2_18_autorisation_de_nouvelles_origines\"\n  }, \"Project 2.18\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Il est possible que dans le cadre de votre projet, vous n'ayez pas besoin d'authentifier des utilisateurs afin de prot√©ger l'acc√®s √† certaines op√©rations sur des ressources.\"), \"\\n\", React.createElement(_components.p, null, \"Si c'est le cas, il est quand m√™me important d'apprendre les concepts associ√©s √† l'authentification et √† l'autorisation JWT. Veuillez donc d√©velopper un prototype d'application qui n√©cessiterait une authentification, ainsi qu'au moins une op√©ration qui devrait √™tre autoris√©e.\"), \"\\n\", React.createElement(_components.p, null, \"Si vous n'avez pas d'id√©e, vous pourriez simplement d√©velopper un prototype permettant d'entrer des commentaires sur votre site web et de les visualiser.\"), \"\\n\", React.createElement(_components.p, null, \"Dans un premier temps, veuillez identifier toutes les op√©rations mises √† disposition par votre API, ainsi que si celles-ci sont prot√©g√©es par JWT, au sein du fichier \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"README.md\")), \" (fichier Markdown) de votre projet. Voici un exemple de comment nous vous recommandons de documenter votre API, sous forme de tableau :\"), \"\\n\", React.createElement(_components.table, null, React.createElement(_components.thead, null, React.createElement(_components.tr, null, React.createElement(_components.th, null, \"URI\"), React.createElement(_components.th, null, \"M√©thode HTTP\"), React.createElement(_components.th, null, \"Auths?\"), React.createElement(_components.th, null, \"Op√©ration\"))), React.createElement(_components.tbody, null, React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"films\"))), React.createElement(_components.td, null, \"GET\"), React.createElement(_components.td, null, \"Non\"), React.createElement(_components.td, null, \"READ ALL : Lire toutes les ressources de la collection\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"comments\"))), React.createElement(_components.td, null, \"GET\"), React.createElement(_components.td, null, \"JWT\"), React.createElement(_components.td, null, \"READ ALL FILTERED : Lire toutes les ressources de la collection\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, React.createElement(_components.strong, null, React.createElement(_components.code, null, \"comments\"))), React.createElement(_components.td, null, \"POST\"), React.createElement(_components.td, null, \"JWT\"), React.createElement(_components.td, null, \"CREATE ONE : Cr√©er une ressource bas√©e sur les donn√©es de la requ√™te\")), React.createElement(_components.tr, null, React.createElement(_components.td, null, \"...\"), React.createElement(_components.td, null, \"...\"), React.createElement(_components.td, null, \"...\"), React.createElement(_components.td, null, \"...\")))), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(AuthenticatedBlock, null, React.createElement(_components.p, null, \"Veuillez travailler avec les membres de votre groupe et vous partager le travail.\"), React.createElement(_components.p, null, \"Un peu avant la fin de la s√©ance, veuillez discuter :\"), React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"du lien entre les UCs que vous avez identifi√©s en d√©but de projet et les op√©rations de votre API.\"), \"\\n\", React.createElement(_components.li, null, \"des difficult√©s rencontr√©es, de ce que vous avez appris...\"), \"\\n\")), \"\\n\", React.createElement(_components.p, null, \"Vous devez tester toutes les nouvelles op√©rations que vous prot√©gez par une autorisation JWT √† l'aide de Rest Client.\"), \"\\n\", React.createElement(_components.p, null, \"Quand un prototype d'api est finalis√© et test√©, veuillez faire un \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"commit\")), \" de votre code avec comme message : \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"4.1 : api JWT auths\")), \".\"), \"\\n\", React.createElement(_components.h4, null, \"ü§ù Tips\"), \"\\n\", React.createElement(_components.p, null, \"Comment cr√©er un tableau dans un fichier Markdown (pour \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"README.md\")), \") ?\", React.createElement(_components.br), \"\\n\", \"Voici deux options :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Soit vous utiliser des \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"|\")), \" pour d√©limiter les cellules et des \", React.createElement(_components.strong, null, React.createElement(_components.code, null, \"|---|\")), \" pour s√©parer\\r\\nles headers du corps du tableau.\\r\\nVoici le Markdown de l'exemple donn√© ci-dessus :\"), \"\\n\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-text\"\n  }, \"| URI | M√©thode HTTP | Auths? | Op√©ration |\\r\\n|---|---|---|---|\\r\\n| **`films`** | GET | Non | READ ALL : Lire toutes les ressources de la collection |\\r\\n| **`comments`** | GET | JWT | READ ALL FILTERED : Lire toutes les ressources de la collection |\\r\\n| **`comments`** | POST | JWT | CREATE ONE : Cr√©er une ressource bas√©e sur les donn√©es de la requ√™te |\\r\\n| ... | ... | ... | ... |\\n\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Soit c'est simplement un tableau HTML (\", React.createElement(_components.code, null, \"<table>\"), \").\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Comment ajouter l'authentification et l'autorisation JWT au sein de votre projet ?\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Soit vous partez du boilerplate du cours offrant l'authentification et l'autorisation JWT : \", React.createElement(_components.a, {\n    href: \"https://github.com/e-vinci/jwt-api-boilerplate\"\n  }, \"jwt-api-boilerplate\"), \".\\r\\nPuis vous pouvez y int√©grer le code d√©velopp√©e pour \", React.createElement(_components.a, {\n    href: \"../../part2/comms-security/#project_2_18_autorisation_de_nouvelles_origines\"\n  }, \"Project 2.18\"), \".\"), \"\\n\", React.createElement(_components.li, null, \"Soit vous refaites les √©tapes du tutoriel dans cette page en partant du code d√©velopp√© pour \", React.createElement(_components.a, {\n    href: \"../../part2/comms-security/#project_2_18_autorisation_de_nouvelles_origines\"\n  }, \"Project 2.18\"), \".\"), \"\\n\"), \"\\n\", React.createElement(_components.h1, null, React.createElement(InternalPageTitle, null, \" Project 4.22 : Authentification & autorisation d'op√©rations \")));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","import GATSBY_COMPILED_MDX from \"D:/Vinci/code/web2/js-course/frontend/src/mdx-pages/part4/auths-api.fr.mdx\";\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport {MDXProvider} from '@mdx-js/react';\nimport {Link} from 'gatsby';\nimport MainLayout from '../components/main-layout.js';\nimport Image from '../components/image.js';\nimport Section from '../components/section.js';\nimport Content from '../components/content.js';\nimport Background from '../components/background.js';\nimport SectionHeader from '../components/section-header.js';\nimport SectionFooter from '../components/section-footer.js';\nimport PageHeader from '../components/page-header.js';\nimport {withFrontmatter} from '../components/hoc/hoc.js';\nimport CodeBlock from '../components/codeblock/codeblock.js';\nimport LinkFile from '../components/file/link-file.js';\nimport ScrollableImage from '../components/image/scrollable-image';\nimport PublicProjectsView from '../components/public-projects/public-projects-view';\nimport {AuthenticatedTemplate, UnauthenticatedTemplate} from '@azure/msal-react';\nimport AuthenticatedBlock from '../components/auth/authenticated-block.js';\nimport UnAuthenticatedBlock from '../components/auth/unauthenticated-block.js';\nimport NestedMdxBlock from '../components/mdx/nested-mdx-block.js';\nimport YoutubeImage from '../components/image/youtube-image.js';\nimport InternalPageMenu from '../components/internal-page-menu/internal-page-menu.js';\nimport InternalPageMenuItem from '../components/internal-page-menu/internal-page-menu-item.js';\nimport InternalPageTitle from '../components/internal-page-menu/menu-title.js';\nimport {PathViewer, PathViewerItem} from '../components/path-viewer/path-viewer.js';\nconst shortcodes = {\n  Link,\n  Image,\n  Section,\n  Content,\n  Background,\n  SectionHeader,\n  SectionFooter,\n  PageHeader,\n  CodeBlock,\n  LinkFile,\n  ScrollableImage,\n  PublicProjectsView,\n  AuthenticatedBlock,\n  UnAuthenticatedBlock,\n  NestedMdxBlock,\n  YoutubeImage,\n  InternalPageMenu,\n  InternalPageMenuItem,\n  InternalPageTitle,\n  PathViewer,\n  PathViewerItem\n};\nfunction PageTemplate({data: {mdx, allImages}, children}) {\n  shortcodes.PageHeader = withFrontmatter(PageHeader, mdx?.frontmatter);\n  return React.createElement(MainLayout, Object.assign({}, mdx?.frontmatter ? {\n    frontmatter: mdx.frontmatter\n  } : {}, mdx?.frontmatter?.navbarExtraStyles ? {\n    navbarExtraStyles: mdx.frontmatter.navbarExtraStyles\n  } : {}, mdx?.frontmatter?.headerImage ? {\n    headerImage: mdx.frontmatter.headerImage\n  } : {}, mdx?.frontmatter?.featuredImage ? {\n    featuredImage: mdx.frontmatter.featuredImage\n  } : {}, mdx?.frontmatter?.title ? {\n    pageTitle: mdx.frontmatter.title\n  } : {}, allImages && allImages.length > 0 ? {\n    allImages: allImages\n  } : {}), React.createElement(MDXProvider, {\n    components: shortcodes\n  }, React.createElement(\"div\", {\n    className: mdx?.frontmatter?.autoMargin ? 'page page--auto-margin ' : 'page'\n  }, children)));\n}\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PageTemplate, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const pageQuery = graphql`\n  query pagesAndImages($slug: String) {\n    mdx(fields: { slug: { eq: $slug } }) {\n      id\n      body\n      fields {\n        slug\n      }\n\n      frontmatter {\n        title\n        date\n        navbarExtraStyles\n        headerImage\n        featuredImage\n        description\n        autoMargin\n      }\n    }\n    allImages: allFile(\n      filter: {\n        sourceInstanceName: { eq: \"images\" }\n        extension: { nin: [\"ico\", \"svg\"] }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData(\n              quality: 90\n              layout: FULL_WIDTH\n              placeholder: TRACED_SVG\n              tracedSVGOptions: { color: \"green\", background: \"grey\" }\n            )\n          }\n          base\n        }\n      }\n    }\n  }\n`;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","h2","p","strong","ul","li","br","em","h3","h4","code","a","pre","h5","table","thead","tr","th","tbody","td","_provideComponents","components","InternalPageMenu","PathViewer","PathViewerItem","InternalPageMenuItem","YoutubeImage","InternalPageTitle","ScrollableImage","AuthenticatedBlock","_missingMdxReference","React","to","selected","className","src","href","name","minWidth","maxWidth","numbered","highlighting","wrapper","MDXLayout","id","component","Error","shortcodes","Link","Image","Section","Content","Background","SectionHeader","SectionFooter","PageHeader","CodeBlock","LinkFile","PublicProjectsView","UnAuthenticatedBlock","NestedMdxBlock","PageTemplate","data","mdx","allImages","children","withFrontmatter","frontmatter","MainLayout","navbarExtraStyles","headerImage","featuredImage","title","pageTitle","length","MDXProvider","autoMargin","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}